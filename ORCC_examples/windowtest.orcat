import C_window;
import C_io;
import C_types;

pub fn main() <int> {
    if (!win_create(640, 480, "FB PIPELINE TEST")) {
        print("win_create failed\n");
        return 1;
    }

    int t = 0;
    while (win_is_open()) {
        win_poll_events();

        fb_clear_color(t % 256, (t*2) % 256, (t*3) % 256);

        fb_fill_rect(100 + (t % 200), 100, 200, 150, 0, 255, 0);

        fb_present();
        t += 1;
    }

    win_destroy();
    return 0;
}
